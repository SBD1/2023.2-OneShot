{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>"},{"location":"#_1","title":"Home","text":""},{"location":"#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Imagine um mundo sem sol, onde voc\u00ea \u00e9 o \u00fanico capaz de restaurar a luz e a esperan\u00e7a. Esse \u00e9 o cen\u00e1rio de OneShot, um jogo eletr\u00f4nico de aventura e quebra-cabe\u00e7a que se destaca pela sua narrativa envolvente, pela sua mec\u00e2nica de quarta parede e pela sua arte pixelada. Neste trabalho, apresentamos uma iniciativa que busca desenvolver um jogo baseado nesse universo fascinante. </p> <p>Esse projeto \u00e9 uma aplica\u00e7\u00e3o direta dos conceitos te\u00f3ricos adquiridos na disciplina SBD1 , ministrada pelo Professor Mauricio Serrano na Universidade de Bras\u00edlia. O objetivo \u00e9 n\u00e3o apenas replicar a atmosfera misteriosa que caracterizam OneShot, mas tamb\u00e9m implementar t\u00e9cnicas sofisticadas de desenvolvimento de sistemas de banco de dados para otimizar o desempenho e a experi\u00eancia do usu\u00e1rio. Dessa forma, este trabalho representa um marco significativo em nosso percurso acad\u00eamico, permitindo a integra\u00e7\u00e3o da teoria e pr\u00e1tica de maneira eficaz e impactante.</p> <p>"},{"location":"#autor","title":"Autor","text":"Nome Matricula Jo\u00e3o Lucas Pinto Vasconcelos 19/0089601"},{"location":"documentos/apresentacoes/modulo-1/","title":"1\u00aa Apresenta\u00e7\u00e3o","text":"<p>"},{"location":"documentos/apresentacoes/modulo-1/#1o-modulo","title":"1\u00ba M\u00f3dulo","text":""},{"location":"documentos/apresentacoes/modulo-1/#gravacao","title":"Grava\u00e7\u00e3o","text":"<p> <p></p>"},{"location":"documentos/apresentacoes/modulo-1/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 04/12/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/apresentacoes/modulo-2/","title":"2\u00aa Apresenta\u00e7\u00e3o","text":"<p>"},{"location":"documentos/apresentacoes/modulo-2/#2o-modulo","title":"2\u00ba M\u00f3dulo","text":""},{"location":"documentos/apresentacoes/modulo-2/#gravacao","title":"Grava\u00e7\u00e3o","text":"<p> <p></p>"},{"location":"documentos/apresentacoes/modulo-2/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 04/12/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/apresentacoes/modulo-3/","title":"3\u00aa Apresenta\u00e7\u00e3o","text":"<p>"},{"location":"documentos/apresentacoes/modulo-3/#3o-modulo","title":"3\u00ba M\u00f3dulo","text":""},{"location":"documentos/apresentacoes/modulo-3/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>A terceira entrega da disciplina consiste em uma sele\u00e7\u00e3o dos triggers e stored procedures desenvolvidos at\u00e9 o momento, al\u00e9m de algumas fun\u00e7\u00f5es do jogo em andamento. Espera-se que este trabalho atenda \u00e0s necessidades do projeto.</p>"},{"location":"documentos/apresentacoes/modulo-3/#gravacao","title":"Grava\u00e7\u00e3o","text":"<p> <p></p>"},{"location":"documentos/apresentacoes/modulo-3/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 04/12/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/modelagem/","title":"Modelagem","text":"<p>"},{"location":"documentos/modelagem/#modelagem","title":"Modelagem","text":""},{"location":"documentos/modelagem/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>A modelagem de dados \u00e9 o processo de representar as estruturas, relacionamentos, restri\u00e7\u00f5es e opera\u00e7\u00f5es de um banco de dados de forma abstrata e conceitual. A modelagem de dados \u00e9 importante para facilitar o projeto, a implementa\u00e7\u00e3o, a manuten\u00e7\u00e3o e o uso de um banco de dados. </p> <p>A modelagem de dados tamb\u00e9m permite a comunica\u00e7\u00e3o entre os desenvolvedores, os usu\u00e1rios e os administradores de um banco de dados. Existem diferentes n\u00edveis de modelagem de dados, como o modelo conceitual, o modelo l\u00f3gico e o modelo f\u00edsico. Cada n\u00edvel tem um grau de abstra\u00e7\u00e3o e detalhamento diferente, dependendo do prop\u00f3sito e da audi\u00eancia da modelagem. E na figura a seguir pode ser vizualizado alguns desses graus.</p> <p> <p> Figura 1 : Representa\u00e7\u00e3o dos passos da modelagem </p>"},{"location":"documentos/modelagem/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 25/11/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/modelagem/#bilbiografia","title":"Bilbiografia","text":"<pre><code>AVI SILBERSCHATZ, HENRY F. KORTH, S. SUDARSHAN. Database System Concepts. [s.l: s.n.].\n</code></pre>"},{"location":"documentos/modelagem/modelo-conceitual/","title":"Modelo Conceitual","text":"<p>"},{"location":"documentos/modelagem/modelo-conceitual/#modelo-conceitual","title":"Modelo Conceitual","text":""},{"location":"documentos/modelagem/modelo-conceitual/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O Modelo Conceitual \u00e9 uma representa\u00e7\u00e3o abstrata dos objetos e suas rela\u00e7\u00f5es em um dom\u00ednio de neg\u00f3cios. Ele \u00e9 composto por entidades, atributos e relacionamentos. </p> <p>As entidades representam objetos no dom\u00ednio de neg\u00f3cios, como clientes, produtos, pedidos, etc. Os atributos s\u00e3o as caracter\u00edsticas que descrevem as entidades. Os relacionamentos representam as associa\u00e7\u00f5es entre as entidades.</p>"},{"location":"documentos/modelagem/modelo-conceitual/#descricao-conceitual","title":"Descri\u00e7\u00e3o Conceitual","text":"<p>A descri\u00e7\u00e3o conceitual \u00e9 uma etapa importante da modelagem de dados que envolve a an\u00e1lise dos elementos e fen\u00f4menos relevantes de uma realidade observada ou imaginada e a posterior forma\u00e7\u00e3o de um modelo abstrato do corpo de conhecimento adquirido. </p> <p>O modelo conceitual concentra-se no mais alto n\u00edvel de abstra\u00e7\u00e3o e n\u00e3o leva em conta o banco de dados em si, mas a forma como as estruturas ser\u00e3o criadas para armazenar os dados.</p>"},{"location":"documentos/modelagem/modelo-conceitual/#entidades-e-atributos","title":"Entidades e Atributos","text":"Entidades e Atributos Personagem <li>id</li> <li>Nome</li> <li>Tipo</li> Personagem NPC <li>Descri\u00e7\u00e3o</li> <li>IsWorldMachine</li> Personagem PC <li>Objetivo</li> <li>ConhceceDeus</li> Deus <li>id Deus</li> <li>Nome</li> Comandos <li>id fun\u00e7\u00e3o    </li> <li>fun\u00e7\u00e3o</li> <li>mensagem de erro</li> Inventario <li>N max de item</li> <li>nome do item</li> Itens <li>id Item</li> <li>Nome</li> <li>Descri\u00e7\u00e3o</li> <li>Tipo</li> Itens Equipamento <li>Fun\u00e7\u00e3o</li> <li>usado em craft</li> Itens Item <li>Combina com</li> <li>Gera</li> Dialogo <li>Id Dialogo</li> <li>Texto</li> <li>Alternativas</li> <li>Nome dos participantes</li> Objeto <li>Id Objeto</li> <li>Nome</li> <li>Descri\u00e7\u00e3o</li> <li>Tipo</li> Objeto Interativo <li>Item requisito</li> <li>Tranca</li> Evento <li>id evento</li> <li>j\u00e1 disparado</li> <li>Descri\u00e7\u00e3o</li> <li>Resultado</li> <li>Tipo Gatilho</li> Evento Conversar <li>Participantes</li> <li>Local</li> <li>unica</li> Evento Entrar Sala <li>localiza\u00e7\u00e3o</li> <li>Pre requisito</li> Evento Interagir <li>precisa de item</li> <li>Consome item</li> Localiza\u00e7\u00e3o <li>id localiza\u00e7\u00e3o</li> Fase <li>id Fase</li> <li>Descri\u00e7\u00e3o</li> Regi\u00e3o <li>id Regi\u00e3o</li> <li>descri\u00e7\u00e3o</li> <li>nome</li> Estrutura <li>id estrutura</li> <li>nome</li> <li>sala inicial</li> Sala <li>id sala</li> <li>descri\u00e7\u00e3o</li> <li>is visited</li> Regi\u00f5es Visitadas <li>nome das regi\u00f5es</li>"},{"location":"documentos/modelagem/modelo-conceitual/#relacionamentos","title":"Relacionamentos","text":"Relacionamentos Personagem est\u00e1 em localiza\u00e7\u00e3o <li>Todo Personagem est\u00e1 em uma localiza\u00e7\u00e3o (1,1)</li> <li>Toda Localiza\u00e7\u00e3o pode possuir um ou mais Personagems (O,N)</li> Deus Controla Personagem PC com Comando <li>Deus Controla um Personagem PC com um Comando (1,1)</li> <li>O Personagem PC \u00e9 controlado por um comando de Deus (1,1)</li> <li>Comando feito por Deus Controla Personagem PC (0,1)</li> Regi\u00f5es visitadas s\u00e3o geradas quando o Personagem PC visita outra regi\u00e3o <li>Um Personagem PC ao visitar uma reg\u00e3o adiciona a mesma na lista de Regi\u00f5es visitadas (1,1)</li> <li>Uma Regi\u00e3o visitada por um Personagem PC entra para lista de Regi\u00f5es visitadas (1,1)</li> Personagem PC viaja rapidamente para Localiza\u00e7\u00e3o de regi\u00f5es ja visitadas <li>Um Personagem PC pode viajar rapidamente para uma localiza\u00e7\u00e3o que aponta para uma Regi\u00e3o visitada (1,1)</li> <li>Um localiza\u00e7\u00e3o pode ser alvo da viagem rapida do Personagem PC se a mesma apontar para uma Regi\u00e3o visitada  (0,1)</li> <li>Uma regi\u00e3o visitada pode ser o destino da viagem rapida que altera a localiza\u00e7\u00e3o do Personagem PC (0,1)</li> Personagem PC Tem Inventario <li>Um Personagem PC Possui um Inventario (1,1)</li> <li>um Invetario \u00e9 possuido por um Personagem PC (1,1)</li> Inventario guarda Item <li>Um inventario Guarda 0 ou mais itens (0,N)</li> <li>Um item pode estar guardado no inventario (0,1)</li> Item Pode Ter Localiza\u00e7\u00e3o <li>Um item pode pode ter uma ou nenhuma localiza\u00e7\u00e3o(0,1)</li> <li>Uma localiza\u00e7\u00e3o pode ter 0 ou varios Items (0,N)</li> Item Equipamento pode ser pr\u00e9 requisito de regi\u00e3o <li>Um Item Equipamento pode ser necessario para entrar em uma regi\u00e3o (0,1)</li> <li>Uma regi\u00e3o pode ter um item pr\u00e9 requisito para ser visitada (0,1)</li> Itens Material combinados usando ou n\u00e3o um equipamento geram Itens Material <li>Dois item Material combinam podendo ser necessario um equipamento para gerar um ou dois Item Material (2,2)</li> <li>Um ou Dois Item Material s\u00e3o gerados ao combinar 2 Item Material usando ou n\u00e3o um equipamento (1,2)</li> <li>Pode ser necessario um equipamento para combinar 2 Item Material (0,1)</li> Objeto Tem Localiza\u00e7\u00e3o <li>Todo objeto tem uma localiza\u00e7\u00e3o (1,1)</li> <li>Uma localiza\u00e7\u00e3o pode ter 0 ou mais Objetos (0,N)</li> Fase possui Regi\u00e3o <li>Toda fase possui pelo menos uma regi\u00e3o (1,N)</li> <li>Toda regi\u00e3o est\u00e1 em uma fase (1,1)</li> Regi\u00e3o possui Estrutura <li>Uma regi\u00e3o possui 0 ou mais estruturas (0,N)</li> <li>Toda estrutura est\u00e1 em Regi\u00e3o (1,1)</li> Estrutura possui Sala <li>Toda estrutura possui uma sala ou mais (1,N)</li> <li>Toda sala est\u00e1 em uma estrutura (1,1)</li> Sala est\u00e1 conectada a sala e pode estar travada por objeto <li>Uma sala pode ter de 0 a 3 conex\u00f5es e as conex\u00f5es podem estar travadas por objetos (1,1)</li> <li>Uma conex\u00e3o conecta ate 3 outras salas que podem estar travadas por objetos (0,3)</li> <li>Objetos podem travar conex\u00f5es entre as salas (0,1)</li> Localiza\u00e7\u00e3o aponta para Regi\u00e3o e/ou Sala <li>Uma localiza\u00e7\u00e3o aponta para 1 regi\u00e3o e pode apontar para uma sala (1,1)</li> <li>Uma regi\u00e3o \u00e9 apontada pela localiza\u00e7\u00e3o (1,1)</li> <li>Uma sala pode estar apontada na localiza\u00e7\u00e3o alem da regi\u00e3o (0,1)</li> Evento Altera Objeto <li>Um evento pode alterar um Objeto (1,1)</li> <li>Um ou mais Objetos podem ser alterados por um Evento (0,N)</li> Evento Gera Item <li>Um evento pode gerar um Item (1,1)</li> <li>At\u00e9 um Item pode ser gerado por um evento (0,1)</li> Evento Gera Dialogo <li>Um evento pode gerar um Dialogo (1,1)</li> <li>At\u00e9 um Dialogo pode ser gerado por um evento (0,1)</li> Personagem PC entrar 1\u00aa vez em Sala gera Evento Entrar Sala <li>Um Personagem PC entrar ao entar pela 1\u00aa vez em uma sala pode disparar um Evento Entrar Sala (1,1)</li> <li>Uma sala ao ser visitada pela primeira vez pelo Personagem PC pode disparar um Evento Entrar Sala (1,1)</li> <li>Um Evento Entrar Sala pode ser gerado quando um Personagem PC entra em uma Sala pela 1\u00aa vez (0,1)</li> Personagem Pc conversa com Personagem NPC e gera Evento Conversar <li>Um Personagem PC conversa com um personagem NPC e gera um Evento Conversar (1,1)</li> <li>Um Personagem NPC conversa com um personagem PC e gera um Evento Conversar (1,1)</li> <li>Um Evento Conversar \u00e9 gerado sempre que um Personagem PC conversa com um Personagem NPC (1,1)</li> Personagem PC Interage com Objeto Interativo usando ou n\u00e3o Item Material e pode gerar um Evento Interagir <li>Um Personagem PC Interagem com um objeto usando ou n\u00e3o um Item Material e pode gerar um Evento Interagir (1,1)</li> <li>Um Objeto Interativo pode ser interagido por um Personagem PC utilizando ou n\u00e3o um Item Material e pode gerar um Evento Interagir (0,1)</li> <li>Um Item Material Pode ser utilizado na intera\u00e7\u00e3o entre um Objeto Interativo e um Objeto Interativo e pode gerar um Evento Interagir (0,1)</li> <li>Um Evento Interagir \u00e9 gerado sempre que um Personagem Pc Interage com um Objeto Interativo usando ou n\u00e3o um Item Material (1,1)</li>"},{"location":"documentos/modelagem/modelo-conceitual/#modelo-entidade-relacionamento","title":"Modelo Entidade Relacionamento","text":"<p>O modelo Entidade-Relacionamento (ER) \u00e9 um modelo conceitual utilizado na Engenharia de Software para descrever objetos envolvidos no dom\u00ednio de um sistema de bancos de dados a ser constru\u00eddo, incluindo seus atributos e relacionamentos. </p>"},{"location":"documentos/modelagem/modelo-conceitual/#diagrama-entidade-relacionamento","title":"Diagrama Entidade Relacionamento","text":"<p>O diagrama Entidade-Relacionamento (ER) \u00e9 uma representa\u00e7\u00e3o gr\u00e1fica do modelo ER. Ele \u00e9 composto por entidades, relacionamentos e atributos. As entidades s\u00e3o representadas por ret\u00e2ngulos, os atributos s\u00e3o representados por como linhas do retangulo e os relacionamentos s\u00e3o representados por losangos.Na figura a seguir est\u00e1 representado o diagrama do projeto</p> <p></p> <p> <p> Figura 1 : Diagrama Entidade Relacionamento </p> <p></p> <p>Clique aqui para ver a imagem em tela cheia. Ou clique aqui para baixar o arquivo do draw.io.</p>"},{"location":"documentos/modelagem/modelo-conceitual/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 25/11/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/modelagem/modelo-conceitual/#bilbiografia","title":"Bilbiografia","text":"<pre><code>AVI SILBERSCHATZ, HENRY F. KORTH, S. SUDARSHAN. Database System Concepts. [s.l: s.n.].\nCHEN, Peter. Entity-relationship modeling. 1st ed. New York: ACM Press, 1976. 176 p.\n</code></pre>"},{"location":"documentos/modelagem/modelo-logico/","title":"Modelo L\u00f3gico","text":"<p>"},{"location":"documentos/modelagem/modelo-logico/#modelo-logico","title":"Modelo L\u00f3gico","text":""},{"location":"documentos/modelagem/modelo-logico/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O Modelo l\u00f3gico \u00e9 uma representa\u00e7\u00e3o abstrata de um banco de dados que descreve a estrutura dos dados e as rela\u00e7\u00f5es entre eles. Ele \u00e9 independente do banco de dados f\u00edsico que detalha como os dados ser\u00e3o implementados. </p> <p>O modelo l\u00f3gico serve como um modelo para os dados usados e leva os elementos de modelagem de dados conceituais um passo adiante, adicionando mais informa\u00e7\u00f5es a eles. </p> <p>O modelo l\u00f3gico incorpora todos os elementos de informa\u00e7\u00e3o que s\u00e3o vitais para o funcionamento do dia a dia dos neg\u00f3cios. Um projeto l\u00f3gico \u00e9 a implementa\u00e7\u00e3o do modelo l\u00f3gico em um banco de dados real. </p> <p>Ele descreve como os dados ser\u00e3o armazenados e organizados em tabelas, colunas e chaves prim\u00e1rias e estrangeiras. O projeto l\u00f3gico \u00e9 baseado no modelo l\u00f3gico e \u00e9 usado para criar um banco de dados f\u00edsico que possa ser usado para armazenar e recuperar dados</p>"},{"location":"documentos/modelagem/modelo-logico/#modelo-relacional","title":"Modelo Relacional","text":"<p>O modelo relacional usa uma cole\u00e7\u00e3o de tabelas para representar tanto os dados quanto as rela\u00e7\u00f5es entre esses dados. Cada tabela tem v\u00e1rias colunas, e cada coluna tem um nome exclusivo. As tabelas tamb\u00e9m s\u00e3o conhecidas como rela\u00e7\u00f5es. </p> <p>O modelo relacional \u00e9 um exemplo de modelo baseado em registro. Os modelos baseados em registro s\u00e3o assim chamados porque o banco de dados \u00e9 estruturado em registros de v\u00e1rios tipos com formato fixo. </p> <p>Cada tabela cont\u00e9m registros de um tipo espec\u00edfico. Cada tipo de registro define um n\u00famero fixo de campos ou atributos. As colunas da tabela correspondem aos atributos do tipo de registro. O modelo de dados relacional \u00e9 o modelo de dados mais amplamente utilizado, e a grande maioria dos sistemas de banco de dados atuais \u00e9 baseada no modelo relacional. \u00b9</p>"},{"location":"documentos/modelagem/modelo-logico/#dependencias-funcionais","title":"Depend\u00eancias Funcionais","text":"<p>As depend\u00eancias funcionais s\u00e3o uma parte importante do modelo relacional. Uma depend\u00eancia funcional \u00e9 uma rela\u00e7\u00e3o entre dois atributos de uma tabela, onde um atributo determina o valor de outro. Em outras palavras, se o valor de um atributo A determina o valor de um atributo B, ent\u00e3o dizemos que B \u00e9 funcionalmente dependente de A.</p> <p>As depend\u00eancias funcionais s\u00e3o usadas para garantir que os dados em uma tabela sejam consistentes e precisos. Elas tamb\u00e9m s\u00e3o usadas para ajudar a normalizar as tabelas, o que pode melhorar o desempenho do banco de dados e reduzir a redund\u00e2ncia de dados.</p>"},{"location":"documentos/modelagem/modelo-logico/#normalizacao","title":"Normaliza\u00e7\u00e3o","text":"<p>A normaliza\u00e7\u00e3o \u00e9 um processo importante na modelagem relacional. Ela \u00e9 usada para garantir que os dados em uma tabela sejam consistentes e precisos, al\u00e9m de ajudar a reduzir a redund\u00e2ncia de dados e melhorar o desempenho do banco de dados. </p> <p>A normaliza\u00e7\u00e3o \u00e9 baseada em depend\u00eancias funcionais, que s\u00e3o rela\u00e7\u00f5es entre dois atributos de uma tabela, onde um atributo determina o valor de outro. A normaliza\u00e7\u00e3o \u00e9 dividida em v\u00e1rias formas normais, cada uma com um conjunto de regras que devem ser seguidas para garantir que a tabela esteja normalizada. </p> <p>As formas normais mais comuns s\u00e3o a primeira forma normal (1NF), a segunda forma normal (2NF) e a terceira forma normal (3NF). H\u00e1 tamb\u00e9m as formas normais mais avan\u00e7adas como a quarta forma normal (4NF) e a forma normal de Boyce-Codd (FNBC). Cada forma normal tem um conjunto de regras que devem ser seguidas para garantir que a tabela esteja normalizada. </p>"},{"location":"documentos/modelagem/modelo-logico/#dicionario-de-dados","title":"Dicionario de Dados","text":"<p>O dicion\u00e1rio de dados \u00e9 uma ferramenta importante na modelagem de banco de dados relacionais. Ele cont\u00e9m informa\u00e7\u00f5es detalhadas sobre as tabelas, colunas, tipos de dados, restri\u00e7\u00f5es e outras informa\u00e7\u00f5es relevantes para o banco de dados. </p> <p>O dicion\u00e1rio de dados \u00e9 usado para documentar o modelo de dados e garantir que todos os desenvolvedores e usu\u00e1rios do banco de dados tenham uma compreens\u00e3o clara dos dados armazenados e como eles s\u00e3o organizados. Ele tamb\u00e9m pode ser usado para ajudar a garantir a integridade dos dados e a consist\u00eancia do modelo de dados.</p> Dicionario de Dados Tabela Event Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio EventId Identificador de Evento Serial PK EventType Identidica o tipo do evento Varchar 10 Not Null Tabela ChatEvent Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio EventId Chave estrangeira para Event e Identificador de Evento Int FK / PK IsUnique Define se o evento acontece apenas uma vez Boolean Default False AlreadyFired Marcador para registrar se o evento ja aconteceu Boolean Default False Comand Representa um linha de comando em SQL que o sgbd vai realizar quando o evento for chamado Varchar 250 Not Null Tabela InteractEvent Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio EventId Chave estrangeira para Event e Identificador de Evento Int FK / PK AlreadyFired Marcador para registrar se o evento ja aconteceu Boolean Default False ConsumesItem Define se o evento Consume O item utilizado na intera\u00e7\u00e3o Boolean Default True Comand Representa um linha de comando em SQL que o sgbd vai realizar quando o evento for chamado Varchar 250 Not Null Tabela RoomEvent Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio EventId Chave estrangeira para Event e Identificador de Evento Int FK / PK AlreadyFired Marcador para registrar se o evento ja aconteceu Boolean Default False Comand Representa um linha de comando em SQL que o sgbd vai realizar quando o evento for chamado Varchar 250 Not Null Tabela Phase Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio PhaseId Identificador unico da fase Serial PK PhaseName Nome da fase Varchar 20 Unique / Not Null PhaseDescription Descri\u00e7\u00e3o da fase Varchar 250 Not Null Tabela Region Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio RegionId Identificador unico da regi\u00e3o Serial PK RegionName Nome da regi\u00e3o Varchar 20 Unique / Not Null RegionDescription Descri\u00e7\u00e3o da regi\u00e3o Varchar 250 Not Null PhaseId Chave estrangeira para fase que a regi\u00e3o Pertence Int FK / Not Null Requirement Chave estrangeira para Equipment que representa um item necessario para entrar na regiao Int FK IsVisited Marcador de regi\u00e3o nunca visitada Boolean Default FALSE Tabela RegionGeo Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio RegionId Chave estrangeira para regiao eIdentificador unico de RegionGeo Int PK / FK North Chave estrangeira referenciando o id da regi\u00e3o que intentifica a regi\u00e3o Norte Int FK South Chave estrangeira referenciando o id da regi\u00e3o que intentifica a regi\u00e3o Sul Int FK East Chave estrangeira referenciando o id da regi\u00e3o que intentifica a regi\u00e3o Leste Int FK West Chave estrangeira referenciando o id da regi\u00e3o que intentifica a regi\u00e3o Oeste Int FK Tabela Structure Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio StrucutureId Identificador Unico de Estrutura Serial PK StrucutureName Nome da estrutura Varchar 20 Unique / Not Null RegionId Chave estrangeira que informa a regi\u00e3o que a estrutura pertence Int FK / Not Null InitialRoom Chave estrangeira que informa aSala inicial da estrutura Int FK / Not Null Tabela Room Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio RoomId Identificador Unico de room Serial PK RoomName Nome da sala Varchar 20 Unique / Not Null RoomDescription Descri\u00e7\u00e3o da sala Varchar 250 Not Null IsVisited Marcador de Sala nunca visitada Boolean Default FALSE StructureId Chave estrangeira que informa a Estrutura que a sala pertence Int FK / Not Null BlockedBy Chave estrangeira que informa se um Objeto bloquear uma sala int FK EventId Chave estrangeira que informa umEvento que pode ser gerado Int FK Tabela Conection Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio ConectionId Identificador Unico da conex\u00e3o Serial PK ConectionName Nome da conex\u00e3o Varchar 20 Not Null Room1Id Id do quarto que esta conectado Int FK Room2Id Id do outro quarto que esta conectado Int FK Tabela Location Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio LocationId Identificador unico da localiza\u00e7\u00e3o Serial PK RegionId Chave estrangeira que informa a regi\u00e3o da localiza\u00e7\u00e3o Int FK / Not Null RoomId Chave estrangeira que informa a sala da localiza\u00e7\u00e3o caso tenha Int FK Tabela Object Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio ObjectId Identificador Unico de Objeto Serial PK ObjectName Nome do Objeto Varchar 20 Not Null ObjectDescription Descri\u00e7\u00e3o do Objeto Varchar 20 Not Null Locks Marcador se objeto esta trancando uma sala Boolean Default False DescriptionOnInteract Descri\u00e7\u00e3o do Objeto ao tentar realizar uma intera\u00e7\u00e3o Varchar 20 Not Null ObjectLocationId Chave estrangeira paraLocation caso o objeto esteja no mapa Int FK ActivationItem Chave estrangeira paraItem caso seja necessario um item para sua ativa\u00e7\u00e3o Int FK EventId Chave estrangeira paraO evento gerado apos a ativa\u00e7\u00e3o Int FK Tabela Character Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio CharacterId Identificador unico de personagem Serial PK CharacterType Aponta para o tipo de personagem varchar 10 Not Null Tabela NPC Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio CharacterId Chave estrangeira para Character e Identificador unico de personagem Int PK / FK NpcName Nome do NPC Varchar 20 Unique / Not Null NpcDescription Descri\u00e7\u00e3o do personagem no mapa Varchar 50 Not Null IsWordMachine Define se o NPC \u00e9 a \"ENTIDADE\" Boolean Default False IsGod Define se o NPC \u00e9 \"DEUS\" Boolean Default False NpcLocationId Chave estrangeira que informa a localiza\u00e7\u00e3o de um NPCpode ser NULL Int FK EventId Chave estrangeira para o evento gerado ao interagir com o npc Int FK / Not Null Tabela PC Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio CharacterId Chave estrangeira para Character e Identificador unico de personagem Int PK / FK PcName Nome do PC Varchar 4 Default 'NIKO' KnowsGod Marcador que define se Niko conhece DEUS Boolean Default False PcLocationId Chave estrangeira que informa a localiza\u00e7\u00e3o do PC Int FK Tabela VisitedRegion Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio CharacterId Id do PC que visitou determinadas regi\u00f4es Int PK / FK RegionId Id da Regi\u00e3o que determinado PC Visitou Int PK / FK Tabela Item Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio ItemId Identificador Unico de Item Serial PK ItemType Identifica o tipo do item Varchar 10 Not Null Tabela ItemMaterial Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio ItemId Identificador Unico e Chave estrangeira para Item Int PK / FK ItemName Nome do item Varchar 20 Unique / Not Null ItemDescription Descri\u00e7\u00e3o do item fisicamente Varchar 50 Unique / Not Null ItemLocationId Caso o Item esteja no mapa ele possui uma localiza\u00e7\u00e3o Int FK Tabela ItemEquipment Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio ItemId Identificador Unico e Chave estrangeira para Item Int PK / FK ItemName Nome do item Varchar 20 Unique / Not Null ItemDescription Descri\u00e7\u00e3o do item fisicamente Varchar 50 Unique / Not Null ItemLocationId Caso o Item esteja no mapa ele possui uma localiza\u00e7\u00e3o Int FK Tabela Combination Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio CraftID Identificador unico da receita Serial PK Material1Id Chave estrangeira para o Material usado no craft Int FK / Not Null Material2Id Chave estrangeira para o outroMaterial usado no craft Int FK / Not Null Result1Id Chave estrangeira para o Resultado primario do craft Int FK / Not Null Result2Id Chave estrangeira para o possivel resultado secundario do craft Int FK Tabela Inventory Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio CharacterId Chave estrangeira para o Personagem dono do inventario int PK / FK ItemId Chave estrangeira para o item no inventario int PK / FK Tabela Dialogue Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio DialogueId Identificador do Dialogo Serial PK Text Texto do dialogo Varchar 250 Not Null CharacterId Chave estrangeira para CharacterPara representar o nome de quem esta falando int FK / Not Null NextDialogue Continua\u00e7\u00e3o do dialogo int FK HaveChoice Marcador caso dialogo ramifique Boolean Not Null Tabela DialogueChoice Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio DialogueId Identificador e chave estrangeira para Dialogo Int PK, FK ChoiceId Identificador unico e escolhas de determinado dialogo Serial PK NextDialogue Chave estrangeira para o proximo dialogo apos a escolha Int FK Tabela Command Nome Descri\u00e7\u00e3o Tipo de Dado Tamanho Restri\u00e7\u00f5es de Dominio FunctionId Identificador da fun\u00e7\u00e3o Serial PK Function Fun\u00e7\u00e3o que o jogador insere para controlar o jogo Varchar 50 Not Null PcID Chave estrangeira para o Pc que esta sendo controlado pelos comandos Int FK"},{"location":"documentos/modelagem/modelo-logico/#diagrama-do-esquema-relacional","title":"Diagrama do Esquema Relacional","text":"<p>O esquema relacional \u00e9 a representa\u00e7\u00e3o do modelo de dados relacional em forma de diagrama, que mostra as tabelas, seus atributos e as rela\u00e7\u00f5es entre elas. </p> <p>O esquema relacional \u00e9 uma ferramenta importante na modelagem de banco de dados, pois ajuda a visualizar a estrutura do banco de dados e a identificar as rela\u00e7\u00f5es entre as tabelas.  <p> Figura 1 : Diagrama do Esquema Relacional   Clique aqui para ver a imagem em tela cheia. Ou clique aqui para baixar o arquivo do draw.io.</p>"},{"location":"documentos/modelagem/modelo-logico/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 25/11/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/modelagem/modelo-logico/#bilbiografia","title":"Bilbiografia","text":"<pre><code>AVI SILBERSCHATZ, HENRY F. KORTH, S. SUDARSHAN. Database System Concepts. [s.l: s.n.].\n</code></pre>"},{"location":"documentos/projeto-fisico/","title":"Modelo F\u00edsico","text":"<p>"},{"location":"documentos/projeto-fisico/#projeto-fisico","title":"Projeto F\u00edsico","text":""},{"location":"documentos/projeto-fisico/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>O Projeto F\u00edsico \u00e9 a \u00faltima etapa do projeto de um banco de dados, que consiste em definir os detalhes t\u00e9cnicos da implementa\u00e7\u00e3o do banco de dados. O objetivo \u00e9 descrever como os dados ser\u00e3o armazenados em suas estruturas complexas para garantir efici\u00eancia, seguran\u00e7a e integridade. O projeto f\u00edsico \u00e9 cont\u00ednuo, de aprimoramento constante - tuning. </p> <p>Ele \u00e9 gerado a partir do enriquecimento doProjeto Fisico modelo l\u00f3gico com detalhes que impactem no desempenho, mas n\u00e3o na funcionalidade. Altera\u00e7\u00f5es no projeto f\u00edsico n\u00e3o impactam o funcionamento das aplica\u00e7\u00f5es que utilizam esse banco de dados. O projeto f\u00edsico \u00e9 fortemente ligado ao SGBD que ser\u00e1 utilizado </p> <p> <p> Figura 1 : Representa\u00e7\u00e3o do Projeto F\u00edsico  </p>"},{"location":"documentos/projeto-fisico/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 25/11/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/projeto-fisico/#bilbiografia","title":"Bilbiografia","text":"<pre><code>AVI SILBERSCHATZ, HENRY F. KORTH, S. SUDARSHAN. Database System Concepts. [s.l: s.n.].\n</code></pre>"},{"location":"documentos/projeto-fisico/algebra/","title":"\u00c1lgebra Relacional","text":"<p>"},{"location":"documentos/projeto-fisico/algebra/#algebra-relacional-ddl","title":"\u00c1lgebra Relacional (DDL)","text":""},{"location":"documentos/projeto-fisico/algebra/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>A \u00c1lgebra Relacional \u00e9 uma linguagem de consulta formal, por\u00e9m procedimental, ou seja, o usu\u00e1rio d\u00e1 as instru\u00e7\u00f5es ao sistema para que o mesmo realize uma sequ\u00eancia de opera\u00e7\u00f5es na base de dados para calcular o resultado desejado. Ela define operadores para atuar nas tabelas e \u00e9 utilizada para realizar manipula\u00e7\u00f5es de dados no modelo relacional. A \u00c1lgebra Relacional \u00e9 um conjunto de opera\u00e7\u00f5es que utilizam como recurso de entrada uma ou mais rela\u00e7\u00f5es, produzindo ent\u00e3o, uma nova rela\u00e7\u00e3o. </p> <p>A \u00c1lgebra Relacional \u00e9 uma parte importante do projeto f\u00edsico do banco de dados, pois permite definir a estrutura do banco de dados, incluindo a defini\u00e7\u00e3o de tabelas, colunas, restri\u00e7\u00f5es, \u00edndices, etc. Alguns dos operadores da \u00c1lgebra Relacional incluem uni\u00e3o, interse\u00e7\u00e3o, diferen\u00e7a, produto, sele\u00e7\u00e3o, proje\u00e7\u00e3o e jun\u00e7\u00e3o. Cada operador tem uma fun\u00e7\u00e3o espec\u00edfica e uma representa\u00e7\u00e3o na constru\u00e7\u00e3o de consultas. </p>"},{"location":"documentos/projeto-fisico/algebra/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 25/11/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/projeto-fisico/algebra/#bilbiografia","title":"Bilbiografia","text":"<pre><code>AVI SILBERSCHATZ, HENRY F. KORTH, S. SUDARSHAN. Database System Concepts. [s.l: s.n.].\n</code></pre>"},{"location":"documentos/projeto-fisico/ddl/","title":"Data Definition Language (DDL)","text":"<p>"},{"location":"documentos/projeto-fisico/ddl/#data-definition-language-ddl","title":"Data Definition Language (DDL)","text":""},{"location":"documentos/projeto-fisico/ddl/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>DDL \u00e9 a sigla para Data Definition Language. \u00c9 uma linguagem de defini\u00e7\u00e3o de dados que permite aos usu\u00e1rios especificar um esquema de banco de dados atrav\u00e9s de um conjunto de defini\u00e7\u00f5es. O projeto f\u00edsico do banco de dados consiste no mapeamento do projeto l\u00f3gico para um DBMS real . </p> <p>O DDL \u00e9 usado para criar, modificar e excluir objetos relacionados ao banco de dados, como tabelas, \u00edndices, vis\u00f5es, etc. O DDL \u00e9 uma parte importante do projeto f\u00edsico do banco de dados, pois permite definir a estrutura do banco de dados, incluindo a defini\u00e7\u00e3o de tabelas, colunas, restri\u00e7\u00f5es, \u00edndices, etc.</p>"},{"location":"documentos/projeto-fisico/ddl/#tabelas-criadas","title":"Tabelas Criadas","text":"<p>Tabela de Eventos</p> <pre><code>CREATE TABLE IF NOT EXISTS Event(\n    EventId SERIAL PRIMARY KEY,\n    EventType VARCHAR(10) NOT NULL\n);\n</code></pre> <p>Tabela de Eventos de Chat</p> <pre><code>CREATE TABLE IF NOT EXISTS ChatEvent(\n    EventId INT PRIMARY KEY REFERENCES Event(EventId),\n    IsUnique BOOLEAN DEFAULT FALSE,\n    AlreadyFired BOOLEAN DEFAULT FALSE,\n    Command VARCHAR(250) NOT NULL\n);\n</code></pre> <p>Tabela de Eventos de Intera\u00e7\u00e3o</p> <pre><code>CREATE TABLE IF NOT EXISTS InteractEvent(\n    EventId INT PRIMARY KEY REFERENCES Event(EventId),\n    AlreadyFired BOOLEAN DEFAULT FALSE,\n    ConsumesItem BOOLEAN DEFAULT TRUE,\n    Command VARCHAR(250) NOT NULL\n);\n</code></pre> <p>Tabela de Eventos de Sala</p> <pre><code>CREATE TABLE IF NOT EXISTS RoomEvent(\n    EventId INT PRIMARY KEY REFERENCES Event(EventId),\n    AlreadyFired BOOLEAN DEFAULT FALSE,\n    Command VARCHAR(250) NOT NULL\n);\n</code></pre> <p>Tabela de Fases</p> <pre><code>CREATE TABLE IF NOT EXISTS Phase(\n    PhaseId SERIAL PRIMARY KEY,\n    PhaseName VARCHAR(20) NOT NULL,\n    PhaseDescription VARCHAR(100) NOT NULL\n);\n</code></pre> <p>Tabela de Regi\u00f5es</p> <pre><code>CREATE TABLE IF NOT EXISTS Region(\n    RegionId SERIAL PRIMARY KEY,\n    RegionName VARCHAR(20) UNIQUE NOT NULL,\n    RegionDescription VARCHAR(250) NOT NULL,\n    PhaseId INT NOT NULL REFERENCES Phase(PhaseId),\n    isVisited BOOLEAN DEFAULT FALSE\n);\n</code></pre> <p>Tabela de Geografias</p> <pre><code>CREATE TABLE IF NOT EXISTS RegionGeo(\n    RegionId SERIAL PRIMARY KEY REFERENCES Region(RegionId),\n    North INT REFERENCES Region(RegionId),\n    South INT REFERENCES Region(RegionId),\n    East INT REFERENCES Region(RegionId),\n    West INT REFERENCES Region(RegionId)\n);\n</code></pre> <p>Tabela de Estruturas</p> <pre><code>CREATE TABLE IF NOT EXISTS Structure(\n    StructureId SERIAL PRIMARY KEY,\n    StructureName VARCHAR(20) UNIQUE NOT NULL,\n    StructureDescription VARCHAR(50) NOT NULL,\n    RegionId INT NOT NULL REFERENCES Region(RegionId)\n);\n</code></pre> <p>Tabela de Salas</p> <pre><code>CREATE TABLE IF NOT EXISTS Room(\n    RoomId SERIAL PRIMARY KEY,\n    RoomName VARCHAR(20) UNIQUE NOT NULL,\n    RoomDescription VARCHAR(250) NOT NULL,\n    IsVisited BOOLEAN DEFAULT FALSE,\n    StructureId INT NOT NULL REFERENCES Structure(StructureId),\n    EventId INT REFERENCES Event(EventId)\n);\n</code></pre> <p>Tabela de Conex\u00f5es</p> <pre><code>CREATE TABLE IF NOT EXISTS Connection(\n    ConnectionId SERIAL PRIMARY KEY,\n    ConnectionName VARCHAR(20) NOT NULL,\n    Room1Id INT NOT NULL REFERENCES Room(RoomId),\n    Room2Id INT NOT NULL REFERENCES Room(RoomId)\n);\n</code></pre> <p>Tabela de Localiza\u00e7\u00f5es</p> <pre><code>CREATE TABLE IF NOT EXISTS Location(\n    LocationId SERIAL PRIMARY KEY,\n    RegionId INT NOT NULL REFERENCES Region(RegionId),\n    RoomId INT REFERENCES Room(RoomId)\n);\n</code></pre> <p>Tabela de Objetos</p> <pre><code>CREATE TABLE IF NOT EXISTS Object(\n    ObjectId SERIAL PRIMARY KEY,\n    ObjectName VARCHAR(20) NOT NULL,\n    ObjectDescription VARCHAR(20) NOT NULL,\n    Locks BOOLEAN DEFAULT FALSE,\n    DescriptionOnInteract VARCHAR(20) NOT NULL,\n    ObjectLocationId INT REFERENCES Location(LocationId),\n    EventId INT REFERENCES Event(EventId) \n);\n</code></pre> <p>Tabela de Personagens</p> <pre><code>CREATE TABLE IF NOT EXISTS Character(\n    CharacterId SERIAL PRIMARY KEY,\n    CharacterType VARCHAR(10) NOT NULL\n);\n</code></pre> <p>Tabela de NPC</p> <pre><code>CREATE TABLE IF NOT EXISTS NPC(\n    CharacterId INT PRIMARY KEY REFERENCES Character(CharacterId),\n    NpcName VARCHAR(20) UNIQUE NOT NULL,\n    NpcDescription VARCHAR(50) NOT NULL,\n    IsWordMachine BOOLEAN DEFAULT FALSE,\n    IsGod BOOLEAN DEFAULT FALSE,\n    NpcLocationId INT REFERENCES Location(LocationId),\n    EventId INT NOT NULL REFERENCES Event(EventId)\n);\n</code></pre> <p>Tabela de PC</p> <pre><code>CREATE TABLE IF NOT EXISTS PC(\n    CharacterId INT PRIMARY KEY REFERENCES Character(CharacterId),\n    PcName VARCHAR(4) DEFAULT 'NIKO' UNIQUE NOT NULL,\n    KnowsGod BOOLEAN DEFAULT FALSE,\n    PcLocationId INT REFERENCES Location(LocationId)\n);\n</code></pre> <p>Tabela de Regi\u00f5es Visitadas</p> <pre><code>CREATE TABLE IF NOT EXISTS VisitedRegion(\n    CharacterId INT REFERENCES PC(CharacterId),\n    RegionId INT REFERENCES Region(RegionId),\n    PRIMARY KEY (CharacterId, RegionId)\n);\n</code></pre> <p>Tabela de Item</p> <pre><code>CREATE TABLE IF NOT EXISTS Item(\n    ItemId SERIAL PRIMARY KEY,\n    ItemType VARCHAR(10) NOT NULL\n);\n</code></pre> <p>Tabela de Item Materiais</p> <pre><code>CREATE TABLE IF NOT EXISTS ItemMaterial(\n    ItemId INT PRIMARY KEY REFERENCES Item(ItemId),\n    ItemName VARCHAR(20) UNIQUE NOT NULL,\n    ItemDescription VARCHAR(50) UNIQUE NOT NULL,\n    ItemLocationId INT REFERENCES Location(LocationId)\n);\n</code></pre> <p>Tabela de Item Equipamentos</p> <pre><code>CREATE TABLE IF NOT EXISTS ItemEquipment(\n    ItemId INT PRIMARY KEY REFERENCES Item(ItemId),\n    ItemName VARCHAR(20) UNIQUE NOT NULL,\n    ItemDescription VARCHAR(50) UNIQUE NOT NULL,\n    ItemLocationId INT REFERENCES Location(LocationId)\n);\n</code></pre> <p>Tabela de Combina\u00e7\u00f5es</p> <pre><code>CREATE TABLE IF NOT EXISTS Combination(\n    CraftId SERIAL PRIMARY KEY,\n    Material1Id INT NOT NULL REFERENCES ItemMaterial(ItemId),\n    Material2Id INT NOT NULL REFERENCES ItemMaterial(ItemId),\n    Result1Id INT NOT NULL REFERENCES Item(ItemId),\n    Result2Id INT REFERENCES Item(ItemId)\n);\n</code></pre> <p>Tabela de Invent\u00e1rio</p> <pre><code>CREATE TABLE IF NOT EXISTS Inventory(\n    CharacterId INT REFERENCES Character(CharacterId),\n    ItemId INT REFERENCES Item(ItemId),\n    PRIMARY KEY (CharacterId, ItemId)\n);\n</code></pre> <p>Tabela de Di\u00e1logos</p> <pre><code>CREATE TABLE IF NOT EXISTS Dialogue(\n    DialogueId SERIAL PRIMARY KEY,\n    DialogueText VARCHAR(250) NOT NULL,\n    CharacterId INT NOT NULL REFERENCES Character(CharacterId),\n    NextDialogue INT REFERENCES Dialogue(DialogueId),\n    HaveChoice BOOLEAN NOT NULL\n);\n</code></pre> <p>Tabela de Escolhas de Di\u00e1logos</p> <pre><code>CREATE TABLE IF NOT EXISTS DialogueChoice(\n    DialogueId INT REFERENCES Dialogue(DialogueId),\n    ChoiceId SERIAL,\n    NextDialogue INT REFERENCES Dialogue(DialogueId),\n    PRIMARY KEY (DialogueId, ChoiceId)\n);\n</code></pre> <p>Tabela de Comandos</p> <pre><code>CREATE TABLE IF NOT EXISTS Command(\n    FunctionId SERIAL PRIMARY KEY,\n    CommandFunction VARCHAR(50) NOT NULL,\n    PcId INT REFERENCES PC(CharacterId)\n);\n</code></pre>"},{"location":"documentos/projeto-fisico/ddl/#tabelas-alteradas","title":"Tabelas Alteradas","text":"<p>Tabela de Regi\u00f5es</p> <pre><code>ALTER TABLE Region ADD Requirement INT REFERENCES ItemEquipment(ItemId);\n</code></pre> <p>Tabela de Estruturas</p> <pre><code>ALTER TABLE Structure ADD InitialRoom INT REFERENCES Room(RoomId);\n</code></pre> <p>Tabela de Salas</p> <pre><code>ALTER TABLE Room ADD BlockedBy INT REFERENCES ItemEquipment(ItemId);\n</code></pre> <p>Tabela de Objetos</p> <pre><code>ALTER TABLE Object ADD ActivationItem INT REFERENCES Item(ItemId);\n</code></pre>"},{"location":"documentos/projeto-fisico/ddl/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 25/11/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/projeto-fisico/ddl/#bilbiografia","title":"Bilbiografia","text":"<pre><code>AVI SILBERSCHATZ, HENRY F. KORTH, S. SUDARSHAN. Database System Concepts. [s.l: s.n.].\n</code></pre>"},{"location":"documentos/projeto-fisico/dml/","title":"Data Manipulation Language (DML)","text":"<p>"},{"location":"documentos/projeto-fisico/dml/#data-manipulation-language-dml","title":"Data Manipulation Language (DML)","text":""},{"location":"documentos/projeto-fisico/dml/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>DML \u00e9 a sigla para Data Manipulation Language. \u00c9 uma linguagem de manipula\u00e7\u00e3o de dados que permite aos usu\u00e1rios inserir, atualizar e excluir dados em um banco de dados. </p> <p>O DML \u00e9 usado para manipular os dados armazenados em um banco de dados, como adicionar novos registros, atualizar informa\u00e7\u00f5es existentes ou excluir registros. O DML \u00e9 uma parte importante do projeto f\u00edsico do banco de dados, pois permite manipular os dados armazenados no banco de dados.</p>"},{"location":"documentos/projeto-fisico/dml/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 25/11/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/projeto-fisico/dml/#bilbiografia","title":"Bilbiografia","text":"<pre><code>AVI SILBERSCHATZ, HENRY F. KORTH, S. SUDARSHAN. Database System Concepts. [s.l: s.n.].\n</code></pre>"},{"location":"documentos/projeto-fisico/dql/","title":"Data Query Language (DQL)","text":"<p>"},{"location":"documentos/projeto-fisico/dql/#data-query-language-dql","title":"Data Query Language (DQL)","text":""},{"location":"documentos/projeto-fisico/dql/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>DQL \u00e9 a sigla para Data Query Language. \u00c9 uma linguagem de consulta de dados que permite aos usu\u00e1rios recuperar dados de um banco de dados. O DQL \u00e9 usado para consultar os dados armazenados em um banco de dados, como recuperar informa\u00e7\u00f5es espec\u00edficas de uma tabela ou visualiza\u00e7\u00e3o. O DQL \u00e9 uma parte importante do projeto f\u00edsico do banco de dados, pois permite recuperar os dados armazenados no banco de dados.</p>"},{"location":"documentos/projeto-fisico/dql/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 25/11/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/projeto-fisico/dql/#bilbiografia","title":"Bilbiografia","text":"<pre><code>AVI SILBERSCHATZ, HENRY F. KORTH, S. SUDARSHAN. Database System Concepts. [s.l: s.n.].\n</code></pre>"},{"location":"documentos/projeto-fisico/stored-procedures/","title":"Stored Procedures","text":"<p>"},{"location":"documentos/projeto-fisico/stored-procedures/#stored-procedures","title":"Stored Procedures","text":""},{"location":"documentos/projeto-fisico/stored-procedures/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Um Stored Procedure \u00e9 um conjunto de comandos SQL que \u00e9 armazenado no banco de dados e pode ser chamado a qualquer momento pelo SGBD ou por um sistema que faz interface com o mesmo. Os Stored Procedures podem ser usados para automatizar tarefas complexas, reduzir o tr\u00e1fego na rede, melhorar a performance do banco de dados, criar tarefas agendadas, diminuir riscos, criar rotinas de processamento, etc. Eles s\u00e3o particularmente \u00fateis quando temos v\u00e1rias aplica\u00e7\u00f5es escritas em diferentes linguagens ou que rodam em plataformas diferentes, mas executam a mesma fun\u00e7\u00e3o.</p>"},{"location":"documentos/projeto-fisico/stored-procedures/#proceadures-desenvolvidos","title":"Proceadures Desenvolvidos","text":"<p>Fun\u00e7\u00e3o de Locomo\u00e7\u00e3o</p> <pre><code>CREATE OR REPLACE PROCEDURE comandoIr(funcao VARCHAR)\nLANGUAGE plpgsql\nAS $comandoIr$\nDECLARE\n    localizacao_atual_id INT;\n    direcao TEXT;\n    direcaoT TEXT;\n    nova_regiao_id INT;\nBEGIN\n    SELECT PcLocationId INTO localizacao_atual_id FROM PC WHERE CharacterId = 1;\n    direcaoT := SUBSTRING(funcao FROM 9);\n    IF funcao LIKE 'ir para norte' THEN \n        direcao := 'north';\n    ELSIF funcao LIKE 'ir para sul' THEN \n        direcao := 'south';\n    ELSIF funcao LIKE 'ir para leste' THEN \n        direcao := 'east';\n    ELSIF funcao LIKE 'ir para oeste' THEN \n        direcao := 'west';\n    ELSE \n        direcao := NULL;\n    END IF;\n\n    IF direcao IS NOT NULL THEN\n        EXECUTE format('SELECT %I FROM RegionGeo WHERE RegionId = (SELECT RegionId FROM Location WHERE LocationId = %L)', direcao, localizacao_atual_id) INTO nova_regiao_id;\n        IF EXISTS (SELECT 1 FROM Location WHERE RegionId = nova_regiao_id) THEN\n            UPDATE PC SET PcLocationId = (SELECT LocationId FROM Location WHERE RegionId = nova_regiao_id LIMIT 1) WHERE CharacterId = 1;\n        ELSE\n            RAISE EXCEPTION 'N\u00e3o \u00e9 poss\u00edvel ir para %', direcaoT;\n        END IF;\n    ELSE\n        RAISE EXCEPTION 'N\u00e3o \u00e9 poss\u00edvel ir para %', direcaoT;\n    END IF;\nEND;\n$comandoIr$;\n</code></pre> <p>Fun\u00e7\u00e3o de Entrada em estruturas</p> <pre><code>CREATE OR REPLACE PROCEDURE comandoEntrar(funcao VARCHAR)\nLANGUAGE plpgsql\nAS $comandoEntrar$\nDECLARE\n    nome_estrutura VARCHAR(255);\n    localizacao_pc INT;\n    regiao_estrutura INT;\nBEGIN\n    IF funcao LIKE 'entrar em%' THEN\n        nome_estrutura := substring(funcao from 11);\n        SELECT PcLocationId INTO localizacao_pc FROM PC WHERE CharacterId = 1;\n        SELECT RegionId INTO regiao_estrutura FROM Structure WHERE LOWER(StructureName) = nome_estrutura;\n        IF localizacao_pc = regiao_estrutura THEN\n            UPDATE PC SET PcLocationId = (SELECT LocationId FROM Location WHERE RoomId = (SELECT InitialRoom FROM Structure WHERE LOWER(StructureName) = nome_estrutura)) WHERE CharacterId = 1;\n        ELSE\n            RAISE EXCEPTION 'Niko n\u00e3o encontra %', nome_estrutura;\n        END IF;\n    END IF;\nEND;\n$comandoEntrar$;\n</code></pre> <p>Fun\u00e7\u00e3o de Saida de estruturas</p> <pre><code>CREATE OR REPLACE PROCEDURE comandoSair(funcao VARCHAR)\nLANGUAGE plpgsql\nAS $comandoSair$\nDECLARE\n    regiao_idn INT;\nBEGIN\n    IF funcao LIKE 'sair' THEN\n        SELECT RegionId INTO regiao_idn FROM Location WHERE LocationId = (SELECT PcLocationId FROM PC WHERE CharacterId = 1);\n        UPDATE PC SET PcLocationId = (SELECT LocationId FROM Location WHERE RegionId = regiao_idn AND RoomId IS NULL) WHERE CharacterId = 1;\n    END IF;\nEND;\n$comandoSair$;\n</code></pre> <p>Fun\u00e7\u00e3o de Coleta</p> <pre><code>CREATE OR REPLACE PROCEDURE comandoPegar(funcao VARCHAR)\nLANGUAGE plpgsql\nAS $comandoPegar$\nDECLARE\n    nome_item VARCHAR(255);\n    localizacao_pc INT;\n    localizacao_itemM INT;\n    itemM_id INT;\n    localizacao_itemE INT;\n    itemE_id INT;\nBEGIN\n    IF funcao LIKE 'pegar%' THEN\n        nome_item := substring(funcao from 7);\n        SELECT PcLocationId INTO localizacao_pc FROM PC WHERE CharacterId = 1;\n\n        SELECT ItemLocationId, ItemId INTO localizacao_itemM, itemM_id FROM ItemMaterial WHERE LOWER(ItemName) = nome_item;\n        IF localizacao_pc = localizacao_itemM THEN\n            UPDATE ItemMaterial SET ItemLocationId = NULL WHERE LOWER(ItemName) = nome_item;\n            INSERT INTO Inventory (ItemId, CharacterId) VALUES (itemM_id, 1);\n            RAISE NOTICE 'Niko pegou %', INITCAP(nome_item);\n        END IF;\n\n        SELECT ItemLocationId, ItemId INTO localizacao_itemE, itemE_id FROM ItemEquipment WHERE LOWER(ItemName) = nome_item;\n        IF localizacao_pc = localizacao_itemE THEN\n            UPDATE ItemEquipment SET ItemLocationId = NULL WHERE LOWER(ItemName) = nome_item;\n            INSERT INTO Inventory (ItemId, CharacterId) VALUES (itemE_id, 1);\n            RAISE NOTICE 'Niko pegou %', INITCAP(nome_item);\n        END IF;\n\n        IF localizacao_itemM IS NULL AND localizacao_itemE IS NULL THEN\n            RAISE EXCEPTION 'Niko n\u00e3o v\u00ea %', INITCAP(nome_item);\n        END IF;\n    END IF;\nEND;\n$comandoPegar$;\n</code></pre> <p>Fun\u00e7\u00e3o de Craft</p> <pre><code>CREATE OR REPLACE PROCEDURE combinar(funcao VARCHAR)\nLANGUAGE plpgsql\nAS $combinar$\nDECLARE\n    nome_item1 VARCHAR(255);\n    nome_item2 VARCHAR(255);\n    nome_item_resultado1 VARCHAR(255);\n    nome_item_resultado2 VARCHAR(255);\n    item1_id INT;\n    item2_id INT;\n    resultado_id1 INT;\n    resultado_id2 INT;\nBEGIN\n    IF funcao LIKE 'combinar%' THEN\n        nome_item1 := substring(funcao from 10 for position(' com ' in substring(funcao from 10)) - 1);\n        nome_item2 := substring(funcao from 10 + position(' com ' in substring(funcao from 10)) + 4);\n\n        SELECT Inventory.ItemId INTO item1_id FROM Inventory JOIN ItemMaterial ON Inventory.ItemId = ItemMaterial.ItemId WHERE CharacterId = 1 AND LOWER(ItemMaterial.ItemName) = LOWER(nome_item1);\n        SELECT Inventory.ItemId INTO item2_id FROM Inventory JOIN ItemMaterial ON Inventory.ItemId = ItemMaterial.ItemId WHERE CharacterId = 1 AND LOWER(ItemMaterial.ItemName) = LOWER(nome_item2);\n\n        IF item1_id IS NULL OR item2_id IS NULL THEN\n            RAISE EXCEPTION 'Niko n\u00e3o tem % ou % no invent\u00e1rio', INITCAP(nome_item1), INITCAP(nome_item2);\n        END IF;\n\n        SELECT Result1Id, Result2Id INTO resultado_id1, resultado_id2 FROM Combination WHERE (Material1Id = item1_id AND Material2Id = item2_id) OR (Material1Id = item2_id AND Material2Id = item1_id);\n\n        IF resultado_id1 IS NULL THEN\n            RAISE EXCEPTION 'Niko n\u00e3o pode combinar % e %', INITCAP(nome_item1), INITCAP(nome_item2);\n        END IF;\n\n        SELECT ItemName INTO nome_item_resultado1 FROM ItemMaterial WHERE ItemId = resultado_id1;\n        DELETE FROM Inventory WHERE CharacterId = 1 AND ItemId IN (item1_id, item2_id);\n        INSERT INTO Inventory (ItemId, CharacterId) VALUES (resultado_id1, 1);\n\n        IF resultado_id2 IS NOT NULL THEN\n            SELECT ItemName INTO nome_item_resultado2 FROM ItemMaterial WHERE ItemId = resultado_id2;\n            INSERT INTO Inventory (ItemId, CharacterId) VALUES (resultado_id2, 1);\n            RAISE NOTICE 'Niko combinou % e % para criar %, % n\u00e3o foi consumido no processo', INITCAP(nome_item1), INITCAP(nome_item2), INITCAP(nome_item_resultado1), INITCAP(nome_item_resultado2);\n        ELSE \n            RAISE NOTICE 'Niko combinou % e % para criar %', INITCAP(nome_item1), INITCAP(nome_item2), INITCAP(nome_item_resultado1);\n        END IF;\n    END IF;\nEND;\n$combinar$;\n\n</code></pre>"},{"location":"documentos/projeto-fisico/stored-procedures/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 25/11/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/projeto-fisico/stored-procedures/#bilbiografia","title":"Bilbiografia","text":"<pre><code>AVI SILBERSCHATZ, HENRY F. KORTH, S. SUDARSHAN. Database System Concepts. [s.l: s.n.].\n</code></pre>"},{"location":"documentos/projeto-fisico/triggers/","title":"Triggers","text":"<p>"},{"location":"documentos/projeto-fisico/triggers/#triggers","title":"Triggers","text":""},{"location":"documentos/projeto-fisico/triggers/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Um Trigger \u00e9 um procedimento armazenado no banco de dados que \u00e9 chamado automaticamente sempre que ocorre um evento especial no banco de dados. Por exemplo, um acionador pode ser chamado quando uma linha \u00e9 inserida em uma tabela especificada ou quando determinadas colunas da tabela est\u00e3o sendo atualizadas. Os triggers podem ser usados para aplicar restri\u00e7\u00f5es e garantir que os dados inseridos ou atualizados estejam de acordo com determinadas regras e padr\u00f5es. Automatiza\u00e7\u00e3o Com triggers, tarefas complexas podem ser automatizadas, poupando tempo e reduzindo a possibilidade de erros humanos.</p>"},{"location":"documentos/projeto-fisico/triggers/#triggers-desenvolvidos","title":"Triggers Desenvolvidos","text":"<p>Define a geografia correta entre regi\u00f5es</p> <pre><code>CREATE OR REPLACE FUNCTION geografia_regiao() RETURNS TRIGGER AS $geografia_regiao$\nBEGIN\n    IF NEW.North IS NOT NULL THEN\n        UPDATE RegionGeo SET South = NEW.RegionId WHERE RegionId = NEW.North;\n    END IF;\n    IF NEW.South IS NOT NULL THEN\n        UPDATE RegionGeo SET North = NEW.RegionId WHERE RegionId = NEW.South;\n    END IF;\n    IF NEW.East IS NOT NULL THEN\n        UPDATE RegionGeo SET West = NEW.RegionId WHERE RegionId = NEW.East;\n    END IF;\n    IF NEW.West IS NOT NULL THEN\n        UPDATE RegionGeo SET East = NEW.RegionId WHERE RegionId = NEW.West;\n    END IF;\n    RETURN NEW;\nEND;\n$geografia_regiao$ LANGUAGE plpgsql;\n\nCREATE OR REPLACE TRIGGER geografia_regiao\nAFTER INSERT ON RegionGeo\nFOR EACH ROW EXECUTE PROCEDURE geografia_regiao();\n</code></pre> <p>Define o quarto inicial de uma estrutura</p> <pre><code>CREATE OR REPLACE FUNCTION InitialRoom() RETURNS TRIGGER AS $InitialRoom$\nBEGIN\n    IF (SELECT InitialRoom FROM Structure WHERE StructureId = NEW.StructureId) IS NULL THEN\n        UPDATE Structure SET InitialRoom = NEW.RoomId WHERE StructureId = NEW.StructureId;\n    END IF;\n    RETURN NEW;\nEND;\n$InitialRoom$ LANGUAGE plpgsql;\n\nCREATE TRIGGER InitialRoom\nAFTER INSERT ON Room\nFOR EACH ROW EXECUTE PROCEDURE InitialRoom();\n</code></pre> <p>Garante a inser\u00e7\u00e3o correta na tabela Characters</p> <pre><code>CREATE OR REPLACE FUNCTION pcmanager() RETURNS TRIGGER AS $pcmanager$\nBEGIN\n    IF EXISTS (SELECT 1 FROM Character C WHERE C.CharacterId = NEW.CharacterId) THEN \n        RAISE EXCEPTION 'PC j\u00e1 existe';\n    ELSIF NEW.PcLocationId IS NOT NULL THEN\n        INSERT INTO Character (CharacterType) VALUES ('PC') RETURNING CharacterId INTO NEW.CharacterId;\n        RETURN NEW;\n    ELSE\n        RAISE EXCEPTION 'PC n\u00e3o pode ser criado sem uma localiza\u00e7\u00e3o';\n    END IF;\nEND;\n$pcmanager$ LANGUAGE plpgsql;\n\nCREATE TRIGGER pcmanager\nBEFORE INSERT ON PC\nFOR EACH ROW EXECUTE PROCEDURE pcmanager();\n</code></pre> <p>Garante a inser\u00e7\u00e3o correta na tabela Character</p> <pre><code>CREATE OR REPLACE FUNCTION npcmanager() RETURNS TRIGGER AS $npcmanager$\nBEGIN\n    IF EXISTS (SELECT 1 FROM Character C WHERE C.CharacterId = NEW.CharacterId) THEN \n        RAISE EXCEPTION 'NPC j\u00e1 existe';\n    ELSIF ((NEW.NpcName IS NOT NULL) AND (NEW.NpcDescription IS NOT NULL) AND (NEW.EventId IS NOT NULL)) THEN\n        INSERT INTO Character (CharacterType) VALUES ('NPC') RETURNING CharacterId INTO NEW.CharacterId;\n        RETURN NEW;\n    ELSE\n        RAISE EXCEPTION 'NPC n\u00e3o p\u00f4de ser criado pois algum dado esta faltando';\n    END IF;\nEND;\n$npcmanager$ LANGUAGE plpgsql;\n\nCREATE TRIGGER npcmanager\nBEFORE INSERT ON NPC\nFOR EACH ROW EXECUTE PROCEDURE npcmanager();\n</code></pre> <p>Garante a inser\u00e7\u00e3o correta na tabela Item</p> <pre><code>CREATE OR REPLACE FUNCTION i_materialmanager() RETURNS TRIGGER AS $i_materialmanager$\nBEGIN\n    IF EXISTS (SELECT 1 FROM Item I WHERE I.ItemId = NEW.ItemId) THEN \n        RAISE EXCEPTION 'Item j\u00e1 existe';\n    ELSIF ((NEW.ItemName IS NOT NULL) AND (NEW.ItemDescription IS NOT NULL)) THEN\n        INSERT INTO Item (ItemType) VALUES ('material') RETURNING ItemId INTO NEW.ItemId;\n        RETURN NEW;\n    ELSE\n        RAISE EXCEPTION 'Item n\u00e3o p\u00f4de ser criado pois algum dado esta faltando';\n    END IF;\nEND;\n$i_materialmanager$ LANGUAGE plpgsql;\n\nCREATE TRIGGER i_materialmanager\nBEFORE INSERT ON ItemMaterial\nFOR EACH ROW EXECUTE PROCEDURE i_materialmanager();\n</code></pre> <p>Garante a inser\u00e7\u00e3o correta na tabela Item</p> <pre><code>CREATE OR REPLACE FUNCTION i_equipmentmanager() RETURNS TRIGGER AS $i_equipmentmanager$\nBEGIN\n    IF EXISTS (SELECT 1 FROM Item I WHERE I.ItemId = NEW.ItemId) THEN \n        RAISE EXCEPTION 'Item j\u00e1 existe';\n    ELSIF ((NEW.ItemName IS NOT NULL) AND (NEW.ItemDescription IS NOT NULL)) THEN\n        INSERT INTO Item (ItemType) VALUES ('equipment') RETURNING ItemId INTO NEW.ItemId;\n        RETURN NEW;\n    ELSE\n        RAISE EXCEPTION 'Item n\u00e3o p\u00f4de ser criado pois algum dado esta faltando';\n    END IF;\nEND;\n$i_equipmentmanager$ LANGUAGE plpgsql;\n\nCREATE TRIGGER i_equipmentmanager\nBEFORE INSERT ON ItemEquipment\nFOR EACH ROW EXECUTE PROCEDURE i_equipmentmanager();\n</code></pre> <p>Garante a inser\u00e7\u00e3o correta na tabela Evento</p> <pre><code>CREATE OR REPLACE FUNCTION e_chatmanager() RETURNS TRIGGER AS $e_chatmanager$\nBEGIN\n    IF EXISTS (SELECT 1 FROM Event E WHERE E.EventId = NEW.EventId) THEN \n        RAISE EXCEPTION 'Evento j\u00e1 existe';\n    ELSIF (NEW.Command IS NOT NULL) THEN\n        INSERT INTO Event (EventType) VALUES ('Chat') RETURNING EventId INTO NEW.EventId;\n        RETURN NEW;\n    ELSE\n        RAISE EXCEPTION 'Evento n\u00e3o p\u00f4de ser criado pois o comando esta faltando';\n    END IF;\nEND;\n$e_chatmanager$ LANGUAGE plpgsql;\n\nCREATE TRIGGER e_chatmanager\nBEFORE INSERT ON ChatEvent\nFOR EACH ROW EXECUTE PROCEDURE e_chatmanager();\n</code></pre> <p>Garante a inser\u00e7\u00e3o correta na tabela Evento</p> <pre><code>CREATE OR REPLACE FUNCTION e_interactmanager() RETURNS TRIGGER AS $e_interactmanager$\nBEGIN\n    IF EXISTS (SELECT 1 FROM Event E WHERE E.EventId = NEW.EventId) THEN \n        RAISE EXCEPTION 'Evento j\u00e1 existe';\n    ELSIF (NEW.Command IS NOT NULL) THEN\n        INSERT INTO Event (EventType) VALUES ('Interact') RETURNING EventId INTO NEW.EventId;\n        RETURN NEW;\n    ELSE\n        RAISE EXCEPTION 'Evento n\u00e3o p\u00f4de ser criado pois o comando esta faltando';\n    END IF;\nEND;\n$e_interactmanager$ LANGUAGE plpgsql;\n\nCREATE TRIGGER e_interactmanager\nBEFORE INSERT ON InteractEvent\nFOR EACH ROW EXECUTE PROCEDURE e_interactmanager();\n</code></pre> <p>Garante a inser\u00e7\u00e3o correta na tabela Evento</p> <pre><code>CREATE OR REPLACE FUNCTION e_roommanager() RETURNS TRIGGER AS $e_roommanager$\nBEGIN\n    IF EXISTS (SELECT 1 FROM Event E WHERE E.EventId = NEW.EventId) THEN \n        RAISE EXCEPTION 'Evento j\u00e1 existe';\n    ELSIF (NEW.Command IS NOT NULL) THEN\n        INSERT INTO Event (EventType) VALUES ('Room') RETURNING EventId INTO NEW.EventId;\n        RETURN NEW;\n    ELSE\n        RAISE EXCEPTION 'Evento n\u00e3o p\u00f4de ser criado pois o comando esta faltando';\n    END IF;\nEND;\n$e_roommanager$ LANGUAGE plpgsql;\n\nCREATE TRIGGER e_roommanager\nBEFORE INSERT ON RoomEvent\nFOR EACH ROW EXECUTE PROCEDURE e_roommanager();\n</code></pre> <p>Realiza o controle do jogo</p> <pre><code>CREATE OR REPLACE FUNCTION comandsManager() RETURNS TRIGGER AS $comandsManager$\nBEGIN\n    IF NEW.CommandFunction LIKE 'ir para%' THEN\n        CALL comandoIr(NEW.CommandFunction);\n    ELSIF NEW.CommandFunction LIKE 'entrar em%' THEN\n        CALL comandoEntrar(NEW.CommandFunction);\n    ELSIF NEW.CommandFunction LIKE 'sair' THEN\n        CALL comandoSair(NEW.CommandFunction);\n    ELSIF NEW.CommandFunction LIKE 'pegar%' THEN\n        CALL comandoPegar(NEW.CommandFunction);\n    ELSIF NEW.CommandFunction LIKE 'combinar%' THEN\n        CALL combinar(NEW.CommandFunction);\n    ELSIF NEW.CommandFunction LIKE 'abrir inventario' THEN\n        RETURN NEW;\n    ELSIF NEW.CommandFunction LIKE 'fechar inventario' THEN\n        RETURN NEW;\n    ELSIF NEW.CommandFunction LIKE '' THEN\n        RETURN NEW;\n    ELSE\n        RAISE EXCEPTION 'Comando inv\u00e1lido';\n    END IF;\n\n    RETURN NEW;\nEND;\n$comandsManager$ LANGUAGE plpgsql;\n\nCREATE TRIGGER comandsManager\nAFTER INSERT ON Command\nFOR EACH ROW EXECUTE PROCEDURE comandsManager();\n</code></pre>"},{"location":"documentos/projeto-fisico/triggers/#historico-de-versao","title":"Hist\u00f3rico de Vers\u00e3o","text":"<p> Data Vers\u00e3o Descri\u00e7\u00e3o Autor 25/11/23 1.0 Cria\u00e7\u00e3o do documento Jo\u00e3o Lucas <p></p>"},{"location":"documentos/projeto-fisico/triggers/#bilbiografia","title":"Bilbiografia","text":"<pre><code>AVI SILBERSCHATZ, HENRY F. KORTH, S. SUDARSHAN. Database System Concepts. [s.l: s.n.].\n</code></pre>"}]}